language: c
compiler: gcc
os: linux
dist: trusty

script: make DASM=1

env:
  global:
   # The next declaration is the encrypted COVERITY_SCAN_TOKEN, created
   #   via the "travis encrypt" command using the project repo's public key
   - secure: "xC18HHFhJAGn3a+b1JXrnoGHugu0g/nRwagbT9SwB54C5k5ZVmy/Zr2hMFXLoLrtpKSij/ayEzFbLGX1PJtnC9TCs92dSWAzbD+N0d6jr2PBhybYpKtLXILH9IrGzkFa9kP9IRBaJ1Aq7ZDdqyBAaguxl6a93GNFQo914Xf/oziZ5DYCluwZxfflxJpz4VpHIXFtKWOyZiFJwvGy+ZRnpy7sVLSPwx0cyDg24bv9V9nq1e79sCVEtirSB4V3PssWDhk2F+emsFcDal3h0uJ5TnCVCXIpy3UKZcEyw2pQUQ7IhpaDW0NGf+lxGlu+7xiGNyW9mvdoii3xV2gGjFjivD0Tpka03fZX522HB9NOw646TSN2Ze7IWCAwFyxeFPZO+78ue4a67ZM8WlsPa6e/h2llbf7qMvPbNPkp2WuqkDMJHCtq5OvDq4/vsNRY8ZFs6UAZrUAkvrYJ9YFuZFGNZedA0TKCPjJZ+aD9ueamaG8FZVqujBbxTP2m17tmGYBZ+2004EtyecroKtrgxbBg/ZMM9JdIN2ezpB0W+L16LtauCv8OTl/0Pr6Ho++nP9Ew73B+XY74TVXF/+w9zvAPtNE9djTs6mwC6fvYFTj9A5YbHTfqxn+txbMN4sJqfLR2XUr2pTkBtiVHwKxShbHJRX9muaiupxaw8UCb2YlP8GU="

before_install:
  - echo -n | openssl s_client -connect scan.coverity.com:443 | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' | sudo tee -a /etc/ssl/certs/ca-certificates.crt

addons:
  coverity_scan:
    project:
      name: "Zlika/theodore"
      description: "Thomson 8-bit computer emulator"
    notification_email: h9k2ypirwr00bw7@jetable.org
    build_command: "make DASM=1"
    branch_pattern: coverity_scan

